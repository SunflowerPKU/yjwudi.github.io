<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Yingjie Liu" />






<meta name="description" content="Student/THU/GSoC'17">
<meta property="og:type" content="website">
<meta property="og:title" content="Yingjie Liu's Blog">
<meta property="og:url" content="https://yjwudi.github.io/index.html">
<meta property="og:site_name" content="Yingjie Liu's Blog">
<meta property="og:description" content="Student/THU/GSoC'17">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yingjie Liu's Blog">
<meta name="twitter:description" content="Student/THU/GSoC'17">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Yingjie Liu&#39;s Blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/avatar.jpg">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Yingjie Liu&#39;s Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>



    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-56ff76c972fc0cf9"></script>



    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?be11afd3596504a0dc0ea401f7154654";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Yingjie Liu</a></h1>
        </hgroup>


        <p class="header-subtitle">Student/THU/GSoC'17</p>



            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="true" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>




            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>

                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>


                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>

                    </div>

                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                    <!--
                        <li>Tags</li>
                        <li>Friends</li>
                    -->
                        <li>About Me</li>

                    </ul>
                </div>
            </div>


        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>

                            <li><a href="/">Articles</a></li>
                        <!--
                            <li><a href="/tags/">标签</a></li>

                            <li><a href="/tags/推荐/">推荐</a></li>

                            <li><a href="/tags/随笔/">随笔</a></li>
                        -->

                            <li><a href="/tags/MummyDing">About Me</a></li>

                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">

                                <a class="fa Email" href="mailto:yingjiewudi@gmail.com" title="Email"></a>

                                <a class="fa GitHub" href="https://github.com/yjwudi" title="GitHub"></a>

                        </ul>
                    </nav>
                </section>

                <section class="switch-part switch-part4">

                    <div id="js-aboutme">Student/THU/GSoC'17</div>
                </section>

            </div>
        </div>
    </header>
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="back to homepage">Yingjie Liu</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="back to homepage">Yingjie Liu</a></h1>
            </hgroup>

            <p class="header-subtitle">Student/THU/GSoC'17</p>

            <nav class="header-menu">
                <ul>

                    <li><a href="/">Articles</a></li>
                        <!--
                            <li><a href="/tags/">标签</a></li>

                            <li><a href="/tags/推荐/">推荐</a></li>

                            <li><a href="/tags/随笔/">随笔</a></li>
                        -->

                            <li><a href="/tags/MummyDing">About Me</a></li>

                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">

                                <a class="fa Email" href="mailto:yingjiewudi@gmail.com" title="Email"></a>

                                <a class="fa GitHub" href="https://github.com/yjwudi" title="GitHub"></a>

                        </ul>
            </nav>
        </header>
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>



<div class="body-wrap">
<article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">

    <div class="article-meta">
        <a href="/2017/07/09/dlib/" class="article-date">
        <time datetime="2017-07-09T07:32:00.000Z" itemprop="datePublished">2017-07-09</time>
        </a>


    </div>

  <div class="article-inner">

      <input type="hidden" class="isFancy" />


      <header class="article-header">


    <h1 class="article-title" itemprop="name">
      July 1-July 31 (2): Neural Network is Ok for Face Recognition
    </h1>

      </header>

      <div class="article-info article-info-post">
        <div class="clearfix"></div>
      </div>


    <div class="article-entry" itemprop="articleBody">
        These days I keep on importing code and fix the bugs from dlib. Now, the neural network can calculate the 128d vector
        for each face image, and the ouput vector is the same as in dlib. The code can be seen in the <a href="https://github.com/yjwudi/digiKam-Test/tree/master/qt_dlib_dnn" target="_blank" rel="external">test project</a><br>
        The error I reported last week that the overloaded function operator* can not distinguish between mat*mat and mat*integer
        is solved. As Marcel said the template magic "disable_if<is_matrix<S>, const matrix_mul_scal_exp<EXP> >::type" is important,
        and the input parameter for  operator* can be distinguished by this disable_if. The error happens because the function "is_matrix" does not work.
        The neural network can output 128d vector after I fixed this bug, and thanks for Marcel's help. We can see the two output vector is same form the screenshot:<br>
        (1) This is the vector from dlib<br>

        <img src='1.jpg' width="40" height="200" /><br>
        (2) This is the vector from my test code<br>
        <img src='2.png' width="40" height="200" /><br>
        The 128d vector is the most crucial step for deep learning face recognition, but it has not finished for recognition. To have a high accuracy, I have to finished the next steps:<br>
(1) Detect face region for face landmark location using algorithm in dlib. This detection progress can help with face landmark location.<br>
(2) Get the 68 face landmarks. I will use the shape-predictor code from red-eye: https://cgit.kde.org/digikam.git/tree/libs/facesengine/shape-predictor
This part is in progress, and my test code can be seen here: https://github.com/yjwudi/digiKam-Test/tree/master/qt_dlib_dnn/shape-predictor<br>
(3) Extract the face chip. This part includes face pose estimation based on face landmarks. And this part will produce the input image for neural network.<br>








         <br>
         <br>
         <br>

</div>




 <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i>
                2017 Yingjie Liu
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>

            <div class="visit">

                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>


                    <span>| </span>


                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>

            </div>

    </div>
</footer>
    </div>

    <script src="/js/GithubRepoWidget.js"></script>

<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 2;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window

        var oOpenInNew = {
             github: ".github-widget a",





             archives: ".archive-article-title",
             miniArchives: "a.post-list-link",

             friends: "#js-friends a",
             socail: ".social a"
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }

</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "Yingjie Liu's Blog";
                clearTimeout(titleTime);
            }
            else {
                document.title = "Yingjie Liu's Blog";
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>
