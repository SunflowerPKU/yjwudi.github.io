<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->


<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Yingjie Liu" />






<meta name="description" content="Student/THU/GSoC'17">
<meta property="og:type" content="website">
<meta property="og:title" content="Yingjie Liu's Blog">
<meta property="og:url" content="https://yjwudi.github.io/index.html">
<meta property="og:site_name" content="Yingjie Liu's Blog">
<meta property="og:description" content="Student/THU/GSoC'17">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Yingjie Liu's Blog">
<meta name="twitter:description" content="Student/THU/GSoC'17">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Yingjie Liu&#39;s Blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/img/avatar.jpg">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Yingjie Liu&#39;s Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>



    <script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-56ff76c972fc0cf9"></script>



    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?be11afd3596504a0dc0ea401f7154654";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>


</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Yingjie Liu</a></h1>
        </hgroup>


        <p class="header-subtitle">Student/THU/GSoC'17</p>



            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="true" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>




            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>

                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>


                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>

                    </div>

                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                    <!--
                        <li>Tags</li>
                        <li>Friends</li>
                    -->
                        <li>About Me</li>

                    </ul>
                </div>
            </div>


        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>

                            <li><a href="/">Articles</a></li>
                        <!--
                            <li><a href="/tags/">标签</a></li>

                            <li><a href="/tags/推荐/">推荐</a></li>

                            <li><a href="/tags/随笔/">随笔</a></li>
                        -->

                            <li><a href="/tags/MummyDing">About Me</a></li>

                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">

                                <a class="fa Email" href="mailto:yingjiewudi@gmail.com" title="Email"></a>

                                <a class="fa GitHub" href="https://github.com/yjwudi" title="GitHub"></a>

                        </ul>
                    </nav>
                </section>

                <section class="switch-part switch-part4">

                    <div id="js-aboutme">Student/THU/GSoC'17</div>
                </section>

            </div>
        </div>
    </header>
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="back to homepage">Yingjie Liu</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="back to homepage">Yingjie Liu</a></h1>
            </hgroup>

            <p class="header-subtitle">Student/THU/GSoC'17</p>

            <nav class="header-menu">
                <ul>

                    <li><a href="/">Articles</a></li>
                        <!--
                            <li><a href="/tags/">标签</a></li>

                            <li><a href="/tags/推荐/">推荐</a></li>

                            <li><a href="/tags/随笔/">随笔</a></li>
                        -->

                            <li><a href="/tags/MummyDing">About Me</a></li>

                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">

                                <a class="fa Email" href="mailto:yingjiewudi@gmail.com" title="Email"></a>

                                <a class="fa GitHub" href="https://github.com/yjwudi" title="GitHub"></a>

                        </ul>
            </nav>
        </header>
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>



<div class="body-wrap">
<article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">

    <div class="article-meta">
        <a href="/2017/06/01/community-bonding/" class="article-date">
        <time datetime="2017-06-01T07:32:00.000Z" itemprop="datePublished">2017-06-01</time>
        </a>


    </div>

  <div class="article-inner">

      <input type="hidden" class="isFancy" />


      <header class="article-header">


    <h1 class="article-title" itemprop="name">
      May 30-June 30 (3): Deep Learning Model Investigation
    </h1>

      </header>

      <div class="article-info article-info-post">
        <div class="clearfix"></div>
      </div>


    <div class="article-entry" itemprop="articleBody">
        <strong>
            Deep Learning Model Investigation For Face Recognition.
        </strong>
        <br>
        After testing deep learning module in dlib last week, I am starting to investigate dnn module in
        <a href="https://github.com/opencv/opencv_contrib/tree/master/modules/dnn/samples" target="_blank" rel="external">opencv contrib</a>.
        The sample code caffe_googlenet.cpp can load a pretrained caffe model and finish image classification task in opencv just like using caffe.
        I think it is better to use dnn module rather than rewrite dlib code for face recognition.
        <br>
        Then I start to find some pretrained model for face recognition in github which has cost plenty of time. I find a
        <a href="http://www.robots.ox.ac.uk/~vgg/software/vgg_face/" target="_blank" rel="external">vgg pretrained model</a>.
        I write code(https://github.com/yjwudi/dlib_face_recognition_for_digikam/blob/master/opencv-dnn/vgg1.cpp) to test it,
        and the efficiency is as high as dlib, 99%. However, the caffe model is 580 MB, and the size has beyond the limit.
        Then I start to test other models in BVLC model zoo(https://github.com/BVLC/caffe/wiki/Model-Zoo), there are ResFace101
        model or Pose-Aware CNN Models(PAMs) and they are still a little big, about 300MB more or less. Then I learned that the
        kind of inception_resnet_v1 model is smaller than other kinds of models, about tens of MB, but I did not find a pretrained
        inception_resnet_v1 model for face recognition. I may have to train such a model using caffe later.
        <br>
        I also find a paper(http://arxiv.org/abs/1511.02683) in CVPR which claims they have a lightened CNN model for face recognition,
        and they have a github repo(https://github.com/AlfredXiangWu/face_verification_experiment). I downloaded the models in
        their github. The pretrained LightenedCNN_A.caffemodel is 27.3MB, and I write the test code (https://github.com/yjwudi/dlib_face_recognition_for_digikam/blob/master/opencv-dnn/vgg2.cpp),
        the efficiency for this model is about 247/320, better than eigenfaces and fisherfishes but not as good as dlib.
        The Accuracy is low because I did not align and crop the image which is the first step to use the model as claimed in the
        author's github readme.md.
        <br>
        <strong>
            Plan for Next Step.
        </strong>
        <br>
        I had thought to add preprocessing code to test LightenedCNN_A.caffemodel, and go on with dnn module of openCV. But my mentor
        Gilles Caulier told me that not all Linux Distro have switched from OpenCV2 to OpenCV3. There is no dnn module in OpenCV2.
        <br>
        So I have to give up my plan for using dnn module. And I should rewrite dlib face recognition part, port the module into DigiKam.
        And now I am working on it.




         <br>
         <br>
         <br>

</div>




 <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i>
                2017 Yingjie Liu
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>

            <div class="visit">

                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>


                    <span>| </span>


                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>

            </div>

    </div>
</footer>
    </div>

    <script src="/js/GithubRepoWidget.js"></script>

<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 2;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window

        var oOpenInNew = {
             github: ".github-widget a",





             archives: ".archive-article-title",
             miniArchives: "a.post-list-link",

             friends: "#js-friends a",
             socail: ".social a"
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }

</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "Yingjie Liu's Blog";
                clearTimeout(titleTime);
            }
            else {
                document.title = "Yingjie Liu's Blog";
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>
